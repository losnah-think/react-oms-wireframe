# π‰ API Call ν†µμ‹  κµ¬μ΅° κµ¬ν„ μ™„λ£

## π“ μ‘μ—… μ™„λ£ μ”μ•½

### β… κµ¬ν„λ κΈ°λ¥

#### 1. **API Routes (Next.js λ°±μ—”λ“)**
- β… `GET /api/inbound-requests` - λ¨λ“  μ…κ³  μ”μ²­ μ΅°ν
- β… `POST /api/inbound-requests` - μƒ μ…κ³  μ”μ²­ μƒμ„±
- β… `GET /api/inbound-status/[id]` - νΉμ • μ”μ²­ μƒνƒ μ΅°ν
- β… `PATCH /api/inbound-status/[id]` - μƒνƒ μ—…λ°μ΄νΈ
- β… `DELETE /api/inbound-status/[id]` - μ”μ²­ μ‚­μ 

#### 2. **μΈλ©”λ¨λ¦¬ λ°μ΄ν„°λ² μ΄μ¤**
- β… `app/lib/db.ts` - CRUD μ‘μ—… μ§€μ›
- β… μƒν” λ°μ΄ν„° 3κ° ν¬ν•¨ (PO-2024-001/002/003)
- β… μ‹¤μ  DB κµμ²΄μ© μΈν„°νμ΄μ¤ μ κ³µ

#### 3. **λ‹¤κµ­μ–΄ λΌμ°ν… (i18n)**
- β… Middleware κΈ°λ° μ–Έμ–΄ λΌμ°ν…
- β… `/ko` - ν•κµ­μ–΄
- β… `/en` - μμ–΄
- β… `/vi` - λ² νΈλ‚¨μ–΄
- β… Sidebar μ–Έμ–΄ μ„ νƒ λ²„νΌ

#### 4. **νμ΄μ§€ κµ¬μ΅°**
- β… `[locale]/page.tsx` - ν™ (μ…κ³  μ”μ²­ νΌ)
- β… `[locale]/inbound-detail/page.tsx` - μƒμ„Έ νμ΄μ§€ (νƒ€μ„λΌμΈ, μƒν’ λ©λ΅)
- β… μλ™ μ–Έμ–΄λ³„ λΌμ°ν…

#### 5. **API ν΄λΌμ΄μ–ΈνΈ**
- β… `app/services/inboundAPI.ts` - λ¨λ“  μ—”λ“ν¬μΈνΈ λνΌ
- β… μλ™ κΈ°λ³Έ URL μ„¤μ • (ν΄λΌμ΄μ–ΈνΈ/μ„λ²„ κµ¬λ¶„)
- β… μ—λ¬ ν•Έλ“¤λ§

#### 6. **λ¬Έμ„ν™”**
- β… `API_DOCUMENTATION.md` - μ™„μ „ν• API λ¬Έμ„
- β… λ¨λ“  μ—”λ“ν¬μΈνΈ μƒμ„Έ μ„¤λ…
- β… cURL λ° JavaScript μμ 
- β… λ°μ΄ν„° λ¨λΈ μ •μ

---

## π” API ν…μ¤νΈ κ²°κ³Ό

### 1. GET /api/inbound-requests
```bash
$ curl http://localhost:3000/api/inbound-requests
```
β… **κ²°κ³Ό**: 3κ° μƒν” λ°μ΄ν„° λ°ν™

### 2. GET /api/inbound-status/[id]
```bash
$ curl http://localhost:3000/api/inbound-status/PO-2024-001
```
β… **κ²°κ³Ό**: μƒνƒ(μΉμΈμ™„λ£), μ—…λ°μ΄νΈ μ‹κ°„, μƒμ„Έ μ •λ³΄ λ°ν™

### 3. POST /api/inbound-requests
```bash
$ curl -X POST http://localhost:3000/api/inbound-requests \
  -H "Content-Type: application/json" \
  -d '{"poNumber":"PO-2024-004", ...}'
```
β… **κ²°κ³Ό**: μƒ μ”μ²­ μƒμ„±, ID μλ™ μƒμ„± (PO-1761280878441)

### 4. PATCH /api/inbound-status/[id]
```bash
$ curl -X PATCH http://localhost:3000/api/inbound-status/PO-2024-002 \
  -H "Content-Type: application/json" \
  -d '{"status":"μΉμΈμ™„λ£"}'
```
β… **κ²°κ³Ό**: μƒνƒ μ—…λ°μ΄νΈ μ„±κ³µ

### 5. DELETE /api/inbound-status/[id]
```bash
$ curl -X DELETE http://localhost:3000/api/inbound-status/PO-2024-004
```
β… **κ²°κ³Ό**: μ”μ²­ μ‚­μ  μ„±κ³µ

---

## π“ νμΌ κµ¬μ΅° (μ¶”κ°€λ νμΌ)

```
app/
β”β”€β”€ api/                              # β† NEW: API Routes
β”‚   β”β”€β”€ inbound-requests/
β”‚   β”‚   β””β”€β”€ route.ts                  # GET, POST
β”‚   β””β”€β”€ inbound-status/
β”‚       β””β”€β”€ [id]/
β”‚           β””β”€β”€ route.ts              # GET, PATCH, DELETE
β”β”€β”€ [locale]/                         # β† NEW: μ–Έμ–΄ λΌμ°ν…
β”‚   β”β”€β”€ layout.tsx
β”‚   β”β”€β”€ page.tsx
β”‚   β””β”€β”€ inbound-detail/
β”‚       β””β”€β”€ page.tsx
β”β”€β”€ lib/                              # β† NEW: DB
β”‚   β””β”€β”€ db.ts
β””β”€β”€ components/
    β””β”€β”€ Sidebar.tsx                   # β† UPDATED: μ–Έμ–΄ μ„ νƒ

middleware.ts                          # β† NEW: i18n λ―Έλ“¤μ›¨μ–΄
API_DOCUMENTATION.md                   # β† NEW: μƒμ„Έ API λ¬Έμ„
.env.example                           # β† NEW: ν™κ²½λ³€μ ν…ν”λ¦Ώ
```

---

## π€ μ‚¬μ© λ°©λ²•

### λ΅μ»¬ κ°λ°

```bash
# 1. μ„λ²„ μ‹μ‘
npm run dev

# 2. λΈλΌμ°μ €μ—μ„ μ ‘μ†
- http://localhost:3000/ko      (ν•κµ­μ–΄)
- http://localhost:3000/en      (μμ–΄)
- http://localhost:3000/vi      (λ² νΈλ‚¨μ–΄)

# 3. API ν…μ¤νΈ (λ‹¤λ¥Έ ν„°λ―Έλ„)
curl http://localhost:3000/api/inbound-requests
```

### Vercel λ°°ν¬

```bash
# Git push μ‹ μλ™ λ°°ν¬
git push origin main

# λ°°ν¬λ μ•± μ ‘μ†
https://wms-wireframe.vercel.app/ko
```

---

## π’΅ μ£Όμ” κΈ°μ  ν¬μΈνΈ

### 1. Next.js API Routes
- μ„λ²„λ¦¬μ¤ ν•¨μν• API
- μλ™ λΌμ°ν… (`/api/...` κ²½λ΅ λ§¤ν•‘)
- TypeScript μ§€μ›

### 2. λ™μ  λΌμ°ν…
- `[locale]` - μ–Έμ–΄ νλΌλ―Έν„°
- `[id]` - μ”μ²­ ID νλΌλ―Έν„°
- μλ™ ν΄λ” κµ¬μ΅° μΈμ‹

### 3. Middleware
- μ”μ²­ μ „ μ–Έμ–΄ κ°μ§€
- κΈ°λ³Έ μ–Έμ–΄λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
- μΏ ν‚¤ κΈ°λ° μ–Έμ–΄ μ €μ¥ (κµ¬ν„ κ°€λ¥)

### 4. μΈλ©”λ¨λ¦¬ DB
- κ°λ°/λ°λ¨μ© λΉ λ¥Έ ν”„λ΅ν† νƒ€μ΄ν•‘
- μ‹¤μ  DBλ΅ μ‰½κ² κµμ²΄ κ°€λ¥
- CRUD μΈν„°νμ΄μ¤ μΌκ΄€μ„±

### 5. API ν΄λΌμ΄μ–ΈνΈ ν¨ν„΄
- μ„λΉ„μ¤ λ μ΄μ–΄ λ¶„λ¦¬
- κΈ°λ³Έ URL μλ™ μ„¤μ •
- μ—λ¬ μ²λ¦¬ μ¤‘μ•™ν™”

---

## π“‹ λ°μ΄ν„° νλ¦„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    λΈλΌμ°μ € (ν΄λΌμ΄μ–ΈνΈ)                   β”‚
β”‚  - React Components                                      β”‚
β”‚  - InboundRequestForm, InboundStatusModal               β”‚
β”‚  - Sidebar (μ–Έμ–΄ μ„ νƒ)                                   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
              β”‚ HTTP Request
              β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              Middleware (i18n μ²λ¦¬)                       β”‚
β”‚  - μ–Έμ–΄ κ°μ§€ (/ko, /en, /vi)                             β”‚
β”‚  - URL λ¦¬λ‹¤μ΄λ ‰νΈ                                         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
              β”‚
              β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚           Next.js API Routes (app/api/)                  β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚ GET/POST  /api/inbound-requests                 β”‚   β”‚
β”‚  β”‚ GET/PATCH/DELETE /api/inbound-status/[id]      β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
              β”‚
              β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚      μΈλ©”λ¨λ¦¬ λ°μ΄ν„°λ² μ΄μ¤ (app/lib/db.ts)               β”‚
β”‚  - InboundRequest[] λ°°μ—΄                                β”‚
β”‚  - CRUD λ©”μ„λ“                                          β”‚
β”‚  - μƒν” λ°μ΄ν„° μ΄κΈ°ν™”                                    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
              β”‚
              β†“ JSON Response
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              λΈλΌμ°μ €λ΅ λ°μ΄ν„° μ „μ†΅                        β”‚
β”‚  - μƒνƒ μ—…λ°μ΄νΈ                                         β”‚
β”‚  - UI λ λ”λ§                                            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π”— API μ‘λ‹µ ν¬λ§·

λ¨λ“  API μ‘λ‹µμ€ ν†µμΌλ ν¬λ§·:

```json
{
  "success": true|false,
  "message": "μ‘μ—… κ²°κ³Ό λ©”μ‹μ§€",
  "data": { ... },
  "error": "μ¤λ¥ λ©”μ‹μ§€ (μ¤λ¥ μ‹)",
  "count": 3
}
```

---

## π― μƒνƒ μ½”λ“

| Code | Meaning | Example |
|------|---------|---------|
| 200 | OK | GET, PATCH μ„±κ³µ |
| 201 | Created | POST μ„±κ³µ |
| 400 | Bad Request | ν•„μ ν•„λ“ λ„λ½ |
| 404 | Not Found | μ”μ²­ ID μ—†μ |
| 500 | Server Error | DB μ¤λ¥ |

---

## π§ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

### μ‹λ‚λ¦¬μ¤ 1: μ…κ³  μ”μ²­ μ μ¶ β†’ μƒνƒ μ΅°ν
```bash
# 1. μƒ μ”μ²­ μƒμ„±
curl -X POST http://localhost:3000/api/inbound-requests \
  -H "Content-Type: application/json" \
  -d '{"poNumber":"PO-TEST","supplierName":"Test Corp","items":[...]}'
# μ‘λ‹µ: ID = "PO-1234567890"

# 2. μƒνƒ μ΅°ν
curl http://localhost:3000/api/inbound-status/PO-1234567890
# μ‘λ‹µ: status = "μΉμΈλ€κΈ°"

# 3. μƒνƒ μ—…λ°μ΄νΈ
curl -X PATCH http://localhost:3000/api/inbound-status/PO-1234567890 \
  -d '{"status":"μΉμΈμ™„λ£"}'
# μ‘λ‹µ: μ—…λ°μ΄νΈλ¨
```

### μ‹λ‚λ¦¬μ¤ 2: μ–Έμ–΄ μ „ν™
```bash
# 1. ν•κµ­μ–΄ μ ‘μ†
http://localhost:3000/ko
# λ¨λ“  UIκ°€ ν•κµ­μ–΄

# 2. μ–Έμ–΄ λ²„νΌ ν΄λ¦­ (English)
http://localhost:3000/en
# λ¨λ“  UIκ°€ μμ–΄λ΅ λ³€κ²½

# 3. μ–Έμ–΄ λ²„νΌ ν΄λ¦­ (TiαΊΏng Viα»‡t)
http://localhost:3000/vi
# λ¨λ“  UIκ°€ λ² νΈλ‚¨μ–΄λ΅ λ³€κ²½
```

---

## π“ ν†µκ³„

- **μ΄ νμΌ μ¶”κ°€**: 7κ°
- **μ΄ νμΌ μμ •**: 3κ°
- **μ΄ λΌμΈ μ¶”κ°€**: 1,600+
- **API μ—”λ“ν¬μΈνΈ**: 5κ°
- **μ§€μ› μ–Έμ–΄**: 3κ°
- **λ°μ΄ν„° λ¨λΈ**: 3κ°

---

## π“ λ¬Έμ„ μ„μΉ

| λ¬Έμ„ | μ„μΉ | λ‚΄μ© |
|------|------|------|
| API λ¬Έμ„ | `API_DOCUMENTATION.md` | μ™„μ „ν• μ—”λ“ν¬μΈνΈ μ„¤λ… |
| README | `README.md` | ν”„λ΅μ νΈ κ°μ” λ° λΉ λ¥Έ μ‹μ‘ |
| μ„¤μ • | `SETUP.md` | ν™κ²½ μ„¤μ • κ°€μ΄λ“ |
| λ§μ΄κ·Έλ μ΄μ… | `MIGRATION.md` | HTML β†’ Next.js λ§μ΄κ·Έλ μ΄μ… |

---

## β™οΈ ν™κ²½ λ³€μ

`.env.local`:
```env
NEXT_PUBLIC_API_BASE_URL=/api
NEXT_PUBLIC_SUPPORTED_LANGUAGES=ko,en,vi
NEXT_PUBLIC_DEFAULT_LANGUAGE=ko
```

---

## π” λ³΄μ• κ³ λ ¤μ‚¬ν•­

### ν„μ¬ (κ°λ° λ‹¨κ³„)
- β μΈμ¦ μ—†μ
- β κ¶ν• κ²€μ‚¬ μ—†μ
- β… κΈ°λ³Έμ μΈ μ…λ ¥ κ²€μ¦

### ν”„λ΅λ•μ… μ¤€λΉ„
- [ ] JWT/OAuth μΈμ¦ μ¶”κ°€
- [ ] CORS μ„¤μ •
- [ ] Rate limiting
- [ ] SQL Injection λ°©μ§€
- [ ] μ…λ ¥ λ°μ΄ν„° sanitization
- [ ] HTTPS κ°•μ 

---

## π€ λ‹¤μ λ‹¨κ³„

### μ°μ„ μμ„ 1 (ν•„μ)
1. μ‹¤μ  λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° (PostgreSQL/MongoDB)
2. μΈμ¦ μ‹μ¤ν… (JWT)
3. μ—λ¬ λ΅κΉ… λ° λ¨λ‹ν„°λ§

### μ°μ„ μμ„ 2 (κ¶μ¥)
1. λ‹¨μ„ ν…μ¤νΈ (Jest)
2. ν†µν•© ν…μ¤νΈ (Cypress)
3. API λ¬Έμ„ μλ™ν™” (Swagger/OpenAPI)
4. CI/CD νμ΄ν”„λΌμΈ (GitHub Actions)

### μ°μ„ μμ„ 3 (μ„ νƒ)
1. μ›Ήν›… μ‹μ¤ν…
2. μ΄λ©”μΌ μ•λ¦Ό
3. λ€μ‹λ³΄λ“ νμ΄μ§€
4. κ³ κΈ‰ ν•„ν„°/κ²€μƒ‰

---

## π“ ν•™μµ μλ£

μ΄ ν”„λ΅μ νΈλ¥Ό ν†µν•΄ λ°°μΈ μ μλ” κ²ƒ:

- β… RESTful API μ„¤κ³„
- β… Next.js 14 App Router
- β… TypeScript νƒ€μ… μ‹μ¤ν…
- β… λ‹¤κµ­μ–΄ μ§€μ› (i18n)
- β… λ―Έλ“¤μ›¨μ–΄ κ°λ…
- β… Tailwind CSS
- β… μƒνƒ κ΄€λ¦¬ (React Hooks)
- β… μ—λ¬ μ²λ¦¬
- β… API λ¬Έμ„ν™”

---

## π’¬ ν”Όλ“λ°±

λ” λ‚μ€ κ°μ„ μ‚¬ν•­μ΄λ‚ λ²„κ·Έ λ°κ²¬ μ‹:
https://github.com/losnah-think/react-oms-wireframe/issues

---

## π“ λ³€κ²½ λ΅κ·Έ

### v1.0.0 (2024-10-24)
- β… API Routes μ™„μ „ κµ¬ν„
- β… i18n μ–Έμ–΄ λΌμ°ν…
- β… μΈλ©”λ¨λ¦¬ λ°μ΄ν„°λ² μ΄μ¤
- β… μ™„μ „ν• API λ¬Έμ„
- β… λ‹¤κµ­μ–΄ UI (KO, EN, VI)

---

**π‰ ν”„λ΅μ νΈ μ™„μ„±!**

λ¨λ“  API νΈμ¶ ν†µμ‹  κµ¬μ΅°κ°€ μ™„λ²½ν•κ² κµ¬ν„λμ—μµλ‹λ‹¤.  
λ΅μ»¬ ν™κ²½μ—μ„ ν…μ¤νΈν•κ±°λ‚ Vercelμ— λ°°ν¬ν•μ—¬ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

**Live Demo**: https://wms-wireframe.vercel.app/ko
